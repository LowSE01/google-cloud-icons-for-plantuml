skinparam defaultTextAlignment Center
skinparam PackageTitleAlignment Left


!function $GCImg($service)
    !return %call_user_func("$" + $service + "IMG", "2.4")
!endfunction

!function $GCGroupImg($service)
!return %call_user_func("$" + $service + "IMG", "0.7")
!endfunction


!procedure GCEntity(e_alias, e_label, e_descr, e_sprite, e_stereo)
    rectangle "==e_label\n$GCImg(e_sprite)\ne_descr" <<e_stereo>> as e_alias
!endprocedure

!procedure GCEntity(e_alias, e_label, e_sprite, e_stereo)
    rectangle "==e_label\n$GCImg(e_sprite)" <<e_stereo>> as e_alias
!endprocedure


!procedure $GCDefineEntityStyle($stereo)
  skinparam rectangle<<$stereo>> {
    StereoTypeFontSize 10
    Shadowing false
    BorderThickness 1
    BackgroundColor Transparent
  }
!endprocedure


!procedure GCParticipant(p_alias, p_label, p_sprite, p_stereo)
    participant "p_label\n$GCImg(p_sprite)" as p_alias <<p_stereo>>
!endprocedure

!procedure GCParticipant(p_alias, p_label, p_descr, p_sprite, p_stereo)
    participant "p_label\n$GCImg(p_sprite)\np_descr" as p_alias <<p_stereo>>
!endprocedure


!function $GCDefineGroup($alias, $label, $stereo)
    !$ret = 'rectangle "' + $label + '" as ' + $alias + ' <<' + $stereo + '>>'
    !return $ret
!endfunction

!function $GCDefineGroup($alias, $label, $sprite, $stereo)
    !$ret = 'rectangle "' + $GCGroupImg($sprite) + '  ' + $label + '" as ' + $alias + ' <<' + $stereo + '>>'
    !return $ret
!endfunction

!procedure $GCDefineGroupStyle($stereo)
  skinparam rectangle<<$stereo>> {
    StereoTypeFontSize 0
    Shadowing false
    BorderThickness 1
  }
!endprocedure